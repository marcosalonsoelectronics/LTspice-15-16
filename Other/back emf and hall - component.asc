Version 4
SHEET 1 3884 1812
WIRE 224 32 144 32
WIRE 480 32 384 32
WIRE 720 32 560 32
WIRE 224 112 224 32
WIRE 384 208 384 32
WIRE 480 208 384 208
WIRE 720 208 560 208
WIRE 224 240 224 192
WIRE 224 304 112 304
WIRE 224 320 224 304
WIRE 384 384 384 208
WIRE 480 384 384 384
WIRE 720 384 560 384
WIRE 224 512 224 400
WIRE 384 528 384 384
WIRE 720 528 384 528
WIRE 592 656 384 656
WIRE 768 656 592 656
WIRE 1360 656 1136 656
WIRE 1536 656 1360 656
WIRE 1728 672 1600 672
WIRE 2112 672 1888 672
WIRE 2288 672 2112 672
WIRE 1536 688 1488 688
WIRE 2464 688 2352 688
WIRE 1136 704 1136 656
WIRE 2288 704 2256 704
WIRE 384 720 384 656
WIRE 768 720 768 656
WIRE 1488 720 1488 688
WIRE 1888 720 1888 672
WIRE 2256 752 2256 704
WIRE 1136 816 1136 784
WIRE 1888 832 1888 800
WIRE 384 864 384 800
WIRE 768 864 768 800
WIRE 1360 880 1136 880
WIRE 1536 880 1360 880
WIRE 1728 896 1600 896
WIRE 1536 912 1488 912
WIRE 1136 928 1136 880
WIRE 1488 944 1488 912
WIRE 1136 1040 1136 1008
FLAG 720 32 a
IOPIN 720 32 Out
FLAG 720 384 c
IOPIN 720 384 Out
FLAG 720 208 b
IOPIN 720 208 Out
FLAG 1488 944 0
FLAG 1136 1040 0
FLAG 1360 880 ca
FLAG 2256 752 0
FLAG 1888 832 0
FLAG 2112 672 ab
FLAG 1488 720 0
FLAG 1136 816 0
FLAG 1360 656 bc
FLAG 112 304 amp
IOPIN 112 304 In
FLAG 144 32 thetat
IOPIN 144 32 In
FLAG 224 512 0
FLAG 224 240 0
FLAG 720 528 N
IOPIN 720 528 Out
FLAG 384 864 0
FLAG 768 864 0
FLAG 592 656 theta
FLAG 1728 672 ha
IOPIN 1728 672 Out
FLAG 2464 688 hb
IOPIN 2464 688 Out
FLAG 1728 896 hc
IOPIN 1728 896 Out
SYMBOL Misc\\Epoly 576 32 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 63 -1250 VTop 2
SYMATTR InstName Ea
SYMATTR Value value= {if(V(theta)<pi/6, V(amp)*V(theta)/(pi/6),if(V(theta)<5*pi/6, V(amp), if(V(theta)<7*pi/6, V(amp)-V(amp)*(V(theta)-5*pi/6)/(pi/6),  if( V(theta)<11*pi/6, -V(amp),   if(V(theta)<2*pi, -V(amp) + V(amp)*(V(theta)-11*pi/6)/(pi/6),0)   )   )   ) )}
SYMBOL Misc\\Epoly 576 208 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 67 -1152 VTop 2
SYMATTR InstName Eb
SYMATTR Value value={if(V(theta)<pi/2, -V(amp), if( V(theta)< 5*pi/6, -V(amp)+V(amp)*(V(theta)-3*pi/6)/(pi/6), if( V(theta)<9*pi/6, V(amp), if(V(theta)<11*pi/6, V(amp)-V(amp)*(V(theta)-9*pi/6)/(pi/6), if( V(theta)<2*pi, -V(amp), 0   )   )  )  )   )}
SYMBOL Misc\\Epoly 576 384 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 59 -1147 VTop 2
SYMATTR InstName Ec
SYMATTR Value value={if(V(theta)<pi/6, V(amp), if( V(theta)<3*pi/6, V(amp)-V(amp)*(V(theta)-pi/6)/(pi/6), if(V(theta)<7*pi/6, -V(amp), if(V(theta)<9*pi/6, -V(amp)+V(amp)*(V(theta)-7*pi/6)/(pi/6), if( V(theta)<2*pi, V(amp), 0   )    )    )   )    )  }
SYMBOL Control\\comp 1568 896 M180
WINDOW 3 -7 -40 Left 2
WINDOW 123 -2 -66 Left 2
WINDOW 0 16 38 Left 2
WINDOW 38 17 20 Left 2
SYMATTR Value Vhigh=5
SYMATTR Value2 Vlow=0
SYMATTR InstName Uhc
SYMBOL Misc\\Epoly 1136 912 R0
WINDOW 3 53 73 Left 2
SYMATTR Value value={V(c)-V(a)}
SYMATTR InstName Eca
SYMBOL Control\\comp 2320 688 M180
WINDOW 3 4 -36 Left 2
WINDOW 123 10 -61 Left 2
WINDOW 0 18 40 Left 2
WINDOW 38 17 21 Left 2
SYMATTR Value Vhigh=5
SYMATTR Value2 Vlow=0
SYMATTR InstName Uhb
SYMBOL Misc\\Epoly 1888 704 R0
WINDOW 3 53 73 Left 2
SYMATTR Value value={V(a)-V(b)}
SYMATTR InstName Eab
SYMBOL Control\\comp 1568 672 R0
WINDOW 3 -24 46 Left 2
WINDOW 123 -21 71 Left 2
WINDOW 0 6 -43 Left 2
WINDOW 38 8 -22 Left 2
SYMATTR Value Vhigh=5
SYMATTR Value2 Vlow=0
SYMATTR InstName Uha
SYMBOL Misc\\Epoly 1136 688 R0
WINDOW 3 53 73 Left 2
SYMATTR Value value={V(b)-V(c)}
SYMATTR InstName Ebc
SYMBOL res 208 96 R0
SYMATTR InstName Rin1
SYMATTR Value 10Meg
SYMBOL res 208 304 R0
SYMATTR InstName Rin2
SYMATTR Value 10Meg
SYMBOL Misc\\Epoly 384 704 R0
WINDOW 3 -89 226 Left 2
SYMATTR Value value={ ( V(thetat)/(2*pi) - floor( V(thetat)/(2*pi) ) )*2*pi}
SYMATTR InstName E1
SYMBOL res 752 704 R0
SYMATTR InstName Rin4
SYMATTR Value 10Meg
